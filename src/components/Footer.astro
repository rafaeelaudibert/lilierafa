---
import { WEDDING_CONFIG } from "../constants/wedding"
---

<footer class="bg-gray-800 text-white py-16">
  <div class="max-w-6xl mx-auto px-4">
    <div class="grid md:grid-cols-2 gap-12 items-center">
      <!-- Left side - Navigation and info -->
      <div>
        <div class="mb-8">
          <h3 class="text-2xl font-bold mb-4">{WEDDING_CONFIG.couple.them}</h3>
          <p class="text-gray-300 mb-6">
            {WEDDING_CONFIG.wedding.date} • {WEDDING_CONFIG.wedding.time}
          </p>
        </div>

        <!-- Navigation links -->
        <div class="flex flex-wrap gap-6 mb-6">
          {
            WEDDING_CONFIG.navigation.map((link) => (
              <a
                href={link.href}
                class="text-gray-300 hover:text-white transition-colors duration-200"
              >
                {link.label}
              </a>
            ))
          }
        </div>

        <!-- Contact info -->
        <div class="flex flex-col gap-1 text-sm text-gray-400">
          <a
            href={`mailto:${WEDDING_CONFIG.contact.email}`}
            class="hover:text-white transition-colors duration-200"
          >
            {WEDDING_CONFIG.contact.email}</a
          >
          <a
            href={`tel:${WEDDING_CONFIG.contact.phone.replace(/\s/g, "")}`}
            class="hover:text-white transition-colors duration-200"
          >
            {WEDDING_CONFIG.contact.phone}
          </a>
        </div>
      </div>

      <!-- Right side - Countdown -->
      <div class="flex flex-col items-end">
        <h4 class="text-lg font-semibold mb-4">Countdown to our big day</h4>
        <div id="countdown" class="flex flex-row gap-4">
          <div class="bg-gray-700 rounded-lg p-4">
            <div id="days" class="text-2xl font-bold text-[#8B7355]">--</div>
            <div class="text-xs text-gray-300 mt-1">Days</div>
          </div>
          <div class="bg-gray-700 rounded-lg p-4">
            <div id="hours" class="text-2xl font-bold text-[#8B7355]">--</div>
            <div class="text-xs text-gray-300 mt-1">Hours</div>
          </div>
          <div class="bg-gray-700 rounded-lg p-4">
            <div id="minutes" class="text-2xl font-bold text-[#8B7355]">--</div>
            <div class="text-xs text-gray-300 mt-1">Minutes</div>
          </div>
          <div class="bg-gray-700 rounded-lg p-4">
            <div id="seconds" class="text-2xl font-bold text-[#8B7355]">--</div>
            <div class="text-xs text-gray-300 mt-1">Seconds</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom border -->
    <div
      class="border-t border-gray-700 mt-12 pt-8 text-center text-sm text-gray-400"
    >
      <p>Made with a lot of ♥ by Rafa, in Porto Alegre, Brazil, 2025</p>
    </div>
  </div>
</footer>

<script>
  import { WEDDING_CONFIG } from "../constants/wedding"

  function updateCountdown() {
    const now = new Date().getTime()
    const weddingDate = new Date(WEDDING_CONFIG.wedding.fullDate).getTime()
    const distance = weddingDate - now

    if (distance < 0) {
      // Wedding has passed
      document.getElementById("days")!.textContent = "00"
      document.getElementById("hours")!.textContent = "00"
      document.getElementById("minutes")!.textContent = "00"
      document.getElementById("seconds")!.textContent = "00"
      return
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24))
    const hours = Math.floor(
      (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
    )
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))
    const seconds = Math.floor((distance % (1000 * 60)) / 1000)

    document.getElementById("days")!.textContent = days
      .toString()
      .padStart(2, "0")
    document.getElementById("hours")!.textContent = hours
      .toString()
      .padStart(2, "0")
    document.getElementById("minutes")!.textContent = minutes
      .toString()
      .padStart(2, "0")
    document.getElementById("seconds")!.textContent = seconds
      .toString()
      .padStart(2, "0")
  }

  // Update countdown immediately and then every second
  updateCountdown()
  setInterval(updateCountdown, 1000)
</script>
